import{_ as a}from"./VFlex.vue_vue_type_style_index_0_lang-d833bfcd.js";import{C as e,O as t,P as n,c as i,j as l,o as r,a as o,w as s,e as u,b as c,k as p,f as g,K as d,q as v,m as f,i as m,d as y,g as k,F as h,l as x,t as P}from"./index-2b32231c.js";const b={class:"pagination-list"},_={key:0},K=[u("span",{class:"pagination-ellipsis"},"…",-1)],w={key:1},C=[u("span",{class:"pagination-ellipsis"},"…",-1)],M={key:2},j=u("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-left"},null,-1),D=u("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-right"},null,-1),L=e({__name:"VFlexPagination",props:{itemPerPage:null,totalItems:null,currentPage:{default:1},maxLinksDisplayed:{default:4},noRouter:{type:Boolean},routerQueryKey:{default:"page"}},emits:["update:currentPage"],setup(e,{emit:L}){const R=e,{t:$}=t(),q=n(),F=i((()=>Math.ceil(R.totalItems/R.itemPerPage)||1)),Q=i((()=>F.value>R.maxLinksDisplayed+2?R.maxLinksDisplayed+2:F.value)),I=i((()=>{const a=[];let e=R.currentPage-Math.floor(Q.value/2),t=e+(Q.value-Math.ceil(Q.value%2));e<1&&(e=1,t=e+(Q.value-1)),t>F.value&&(t=F.value,e=t-(Q.value-1));for(let n=e;n<=t;n+=1)n!==e&&n!==t&&a.push(n);return a})),V=i((()=>F.value>1)),B=(a=1)=>{if(R.noRouter)return{};const e=Math.max(1,Math.min(a,F.value)),t={...q.query};return R.routerQueryKey&&(t[R.routerQueryKey]=e<=1?void 0:e),{name:q.name,params:q.params,query:t}},O=(a,e=1)=>{const t=Math.max(1,Math.min(e,F.value));if(L("update:currentPage",t),R.noRouter)return a.preventDefault(),a.stopPropagation(),!1};return(t,n)=>{const i=l("RouterLink"),L=a;return r(),o(L,{role:"navigation",class:"flex-pagination pagination is-rounded","aria-label":"pagination","justify-content":"space-between"},{default:s((()=>[u("ul",b,[c(t.$slots,"before-pagination"),u("li",null,[p(i,{to:B(1),tabindex:"0",class:g(["pagination-link",[1===e.currentPage&&"is-current"]]),"aria-label":d($)("components.v-flex-pagination.goto-page-title",{page:1}),onKeydown:n[0]||(n[0]=v(f((a=>a.target.click()),["prevent"]),["space"])),onClick:n[1]||(n[1]=a=>O(a,1))},{default:s((()=>[m(" 1 ")])),_:1},8,["to","aria-label","class"])]),d(V)&&(0===d(I).length||d(I)[0]>2)?(r(),y("li",_,K)):k("",!0),(r(!0),y(h,null,x(d(I),(a=>(r(),y("li",{key:a},[p(i,{to:B(a),tabindex:"0",class:g(["pagination-link",[e.currentPage===a&&"is-current"]]),"aria-label":d($)("components.v-flex-pagination.goto-page-title",{page:a}),"aria-current":e.currentPage===a?"page":void 0,onKeydown:n[2]||(n[2]=v(f((a=>a.target.click()),["prevent"]),["space"])),onClick:e=>O(e,a)},{default:s((()=>[m(P(a),1)])),_:2},1032,["to","aria-label","aria-current","class","onClick"])])))),128)),d(V)&&d(I)[d(I).length-1]<d(F)-1?(r(),y("li",w,C)):k("",!0),d(V)?(r(),y("li",M,[p(i,{to:B(d(F)),tabindex:"0",class:g(["pagination-link",[e.currentPage===d(F)&&"is-current"]]),"aria-label":d($)("components.v-flex-pagination.goto-page-title",{page:d(F)}),onKeydown:n[3]||(n[3]=v(f((a=>a.target.click()),["prevent"]),["space"])),onClick:n[4]||(n[4]=a=>O(a,d(F)))},{default:s((()=>[m(P(d(F)),1)])),_:1},8,["to","aria-label","class"])])):k("",!0),c(t.$slots,"after-pagination")]),c(t.$slots,"before-navigation"),p(i,{to:B(e.currentPage-1),tabindex:"0",class:"pagination-previous has-chevron",onKeydown:n[5]||(n[5]=v(f((a=>a.target.click()),["prevent"]),["space"])),onClick:n[6]||(n[6]=a=>O(a,e.currentPage-1))},{default:s((()=>[j])),_:1},8,["to"]),p(i,{to:B(e.currentPage+1),tabindex:"0",class:"pagination-next has-chevron",onKeydown:n[7]||(n[7]=v(f((a=>a.target.click()),["prevent"]),["space"])),onClick:n[8]||(n[8]=a=>O(a,e.currentPage+1))},{default:s((()=>[D])),_:1},8,["to"]),c(t.$slots,"after-navigation")])),_:3})}}});export{L as _};
